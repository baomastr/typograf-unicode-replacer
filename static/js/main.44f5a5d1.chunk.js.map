{"version":3,"sources":["components/TextAreaField.js","components/TabsWrapper.js","utils/getReplacedOutput.js","utils/typograf.js","utils/patch.js","constants.js","components/App.js","index.js"],"names":["TextAreaField","renderInput","onChange","hasError","react_default","a","createElement","TextField_default","id","label","placeholder","multiline","margin","variant","className","error","rows","renderOutput","value","inputRef","_this$props","this","props","isOutput","React","PureComponent","defaultProps","TabsWrapper","state","handleChange","event","_this","setState","tabsContent","Fragment","AppBar_default","position","color","Tabs_default","indicatorColor","textColor","centered","map","item","index","Tab_default","key","component","getReplacedOutput","input","replace","Typografer","require","upperFirst","addRule","name","handler","text","re","RegExp","concat","_privateLabel","$0","$1","$2","_len","arguments","length","x","Array","_key","toUpperCase","typograf","locale","live","htmlEntity","type","onlyInvisible","enableRule","disableRule","typografer","execute","patch","root","transform","undefined","parentKey","isArray","el","Object","entries","reduce","acc","_ref","_ref2","slicedToArray","k","v","newParentKey","isIgnoreKey","str","CASES","JSON","HTML","REPLACER","config","textInput","textError","textOutput","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","result","handleInputJSONTypografChange","target","data","parse","patched","stringify","err","handleInputHTMLTypografChange","handleInputReplacerChange","_ref3","handleCopyOutput","ref","current","select","document","execCommand","getCaseHandler","renderCopyButton","Fab_default","onClick","aria-label","FileCopyOutlined_default","renderOutputField","isReplacedOutput","components_TextAreaField","renderCase","isJson","isHtml","cn","errorMessage","htmlOutput","replacedOutput","jsonOutput","getTabsContent","createRef","components_TabsWrapper","rootElement","getElementById","ReactDOM","render","components_App"],"mappings":"uQAIMA,6MACJC,YAAc,SAACC,EAAUC,GACvB,OACEC,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CACEG,GAAG,oBACHC,MAAM,qBACNC,YAAY,QACZC,WAAS,EACTC,OAAO,SACPC,QAAQ,WACRC,UAAU,WACVC,MAAOZ,EACPD,SAAUA,EACVc,KAAM,QAKZC,aAAe,SAACC,EAAOC,GACrB,OACEf,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CACEG,GAAG,oBACHC,MAAM,cACNC,YAAY,SACZC,WAAS,EACTC,OAAO,SACPC,QAAQ,WACRC,UAAU,WACVI,MAAOA,EACPF,KAAM,GACNG,SAAUA,6EAKP,IAAAC,EACiDC,KAAKC,MAAtDpB,EADAkB,EACAlB,SAAUgB,EADVE,EACUF,MAAOK,EADjBH,EACiBG,SAAUpB,EAD3BiB,EAC2BjB,SAAUgB,EADrCC,EACqCD,SAE5C,OAAOI,EAAWF,KAAKJ,aAAaC,EAAOC,GAAYE,KAAKpB,YAAYC,EAAUC,UAtC1DqB,IAAMC,eAkDlCzB,EAAc0B,aAAe,CAC3BxB,SAAU,aACVgB,MAAO,GACPK,UAAU,EACVpB,UAAU,EACVgB,SAAU,IAGGnB,2DCTA2B,6MA7CbC,MAAQ,CACNV,MAAO,KAGTW,aAAe,SAACC,EAAOZ,GACrBa,EAAKC,SAAS,CAACd,mFAGR,IACAe,EAAeZ,KAAKC,MAApBW,YACAf,EAASG,KAAKO,MAAdV,MAEP,OACEd,EAAAC,EAAAC,cAAAF,EAAAC,EAAA6B,SAAA,KACE9B,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAQ+B,SAAS,SAASC,MAAM,WAC9BjC,EAAAC,EAAAC,cAACgC,EAAAjC,EAAD,CACEa,MAAOA,EACPhB,SAAUmB,KAAKQ,aACfU,eAAe,UACfC,UAAU,UACVC,UAAQ,GAEPR,EAAYS,IAAI,SAACC,EAAMC,GAAP,OACfxC,EAAAC,EAAAC,cAACuC,EAAAxC,EAAD,CAAKyC,IAAKF,EAAOnC,MAAOkC,EAAKlC,YAKlCwB,EAAYS,IACX,SAACC,EAAMC,GAAP,OACE1B,IAAU0B,GACRxC,EAAAC,EAAAC,cAAA,QAAMwC,IAAKF,EAAO9B,UAAU,QACzB6B,EAAKI,qBAjCIvB,IAAMC,eCPnBuB,EAAoB,SAAAC,GAC/B,OACEA,EACGC,QAAQ,qBADX,+BAEGA,QAAQ,qBAFX,+BAGGA,QAAQ,UAHX,WAIGA,QAAQ,WAJX,WAKGA,QAAQ,WALX,WAMGA,QAAQ,WANX,WAOGA,QAAQ,WAPX,WAQGA,QAAQ,WARX,WAUGA,QAAQ,WAVX,oBCDEC,EAAaC,EAAQ,KACrBC,EAAaD,EAAQ,KAE3BD,EAAWG,QAAQ,CACjBC,KAAM,0BACNC,QAFiB,SAETC,GACN,IAAMC,EAAK,IAAIC,OAAJ,aAAAC,OACIT,EAAWU,cADf,uDAET,MAGF,OAAOJ,EAAKP,QAAQQ,EAAI,SAASI,EAAIC,EAAIC,GACvC,OAAOD,EAAKC,EAAGd,QAAQ,MAAO,aAKjCI,QAAQ,CACPC,KAAM,0BACNC,QAFO,SAECC,GACN,OAAOA,EAAKP,QAAQ,oFAAyB,eAIhDI,QAAQ,CACPC,KAAM,2BACNC,QAFO,SAECC,GACN,OAAOA,EAAKP,QAAQ,wBAAyB,eAIhDI,QAAQ,CACPC,KAAM,mCACNC,QAFO,SAECC,GACN,OAAOA,EAAKP,QAAQ,+BAAsB,eAI7CI,QAAQ,CACPC,KAAM,6BACNC,QAFO,SAECC,GACN,OAAOA,EAAKP,QAAQ,gBAAiB,eAIxCI,QAAQ,CACPC,KAAM,uBACNC,QAFO,SAECC,GACN,OAAOA,EAAKP,QAAQ,6BAA8B,WAAU,QAAAe,EAAAC,UAAAC,OAANC,EAAM,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAANF,EAAME,GAAAJ,UAAAI,GAC1D,SAAAV,OAAUQ,EAAE,GAAGG,cAAf,QAAAX,OAAqCP,EAAWe,EAAE,UAKvDd,QAAQ,CACPC,KAAM,uBACNC,QAFO,SAECC,GACN,OAAOA,EAAKP,QAAQ,iDAAwB,aAIlD,IAAMsB,EAAW,IAAIrB,EAAW,CAC9BsB,OAAQ,CAAC,KAAM,SACfC,MAAM,EACNC,WAAY,CACVC,KAAM,OACNC,eAAe,KAInBL,EAEGM,WAAW,wBACXA,WAAW,2BACXA,WAAW,oBACXC,YAAY,wBACZA,YAAY,mBACZA,YAAY,0BAER,IAAMC,EAAa,SAAA/B,GACxB,OAAOuB,EAASS,QAAQhC,IC/EbiC,EAAQ,SAARA,EAASC,GAAiD,IAA3CC,EAA2ClB,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAA/Bc,EAAYM,EAAmBpB,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAP,GAC9D,OAAIG,MAAMkB,QAAQJ,GACTA,EAAKzC,IAAI,SAAA8C,GAAE,OAAIN,EAAMM,EAAIJ,KACd,OAATD,GAAiC,kBAATA,EAC1BM,OAAOC,QAAQP,GAAMQ,OAAO,SAACC,EAADC,GAAiB,IAAAC,EAAAL,OAAAM,EAAA,EAAAN,CAAAI,EAAA,GAAVG,EAAUF,EAAA,GAAPG,EAAOH,EAAA,GAE5CI,EAAeZ,GAA8B,MAAjBA,EAAU,GAAaA,EAAYU,EAC/DG,EAAkC,MAApBD,EAAa,GAOjC,OAJEN,EAAII,GADW,kBAANC,EACAE,EAAcF,EAAIb,EAAUa,GAE5Bf,EAAMe,EAAGE,EAAc,SAAAC,GAAG,OAAIA,GAAMhB,EAAWc,GAEnDN,GACN,IACsB,kBAATT,EACTC,EAAUD,GAEVA,GCrBEkB,EAAQ,CACnBC,KAAM,OACNC,KAAM,OACNC,SAAU,YAGCC,EAAS,CACpB,CACElD,KAAM8C,EAAMC,KACZ7F,MAAO,gBACPiG,UAAW,2BACXC,UAAW,6BACXC,WAAY,sBAEd,CACErD,KAAM8C,EAAME,KACZ9F,MAAO,gBACPiG,UAAW,2BACXE,WAAY,2BAEd,CACErD,KAAM8C,EAAMG,SACZ/F,MAAO,kBACPiG,UAAW,2BACXE,WAAY,gCC0HDC,cAlIb,SAAAA,EAAYvF,GAAO,IAAAS,EAAA,OAAA0D,OAAAqB,EAAA,EAAArB,CAAApE,KAAAwF,IACjB9E,EAAA0D,OAAAsB,EAAA,EAAAtB,CAAApE,KAAAoE,OAAAuB,EAAA,EAAAvB,CAAAoB,GAAAI,KAAA5F,KAAMC,KAORM,MAAQ,CACNsF,OAAQ,GACRnG,MAAO,MAVUgB,EAanBoF,8BAAgC,SAAAtB,GAAuB,IAAZ3E,EAAY2E,EAArBuB,OAASlG,MACzC,IACE,IAAMmG,EAAOf,KAAKgB,MAAMpG,GAClBqG,EAAUrC,EAAMmC,GACtBtF,EAAKC,SAAS,CACZjB,MAAO,KACPmG,OAAQlE,EAAkBsD,KAAKkB,UAAUD,EAAS,KAAM,MAE1D,MAAOE,GACP1F,EAAKC,SAAS,CAACjB,MAAO0G,MAtBP1F,EA0BnB2F,8BAAgC,SAAA5B,GAAuB,IAAZ5E,EAAY4E,EAArBsB,OAASlG,MACzCa,EAAKC,SAAS,CAACkF,OAAQlC,EAAW9D,MA3BjBa,EA8BnB4F,0BAA4B,SAAAC,GAAuB,IAAZ1G,EAAY0G,EAArBR,OAASlG,MACrCa,EAAKC,SAAS,CAACkF,OAAQlE,EAAkB9B,MA/BxBa,EAkCnB8F,iBAAmB,SAAAC,GAAG,OAAI,WACxBA,EAAIC,QAAQC,SACZC,SAASC,YAAY,UApCJnG,EAuCnBoG,eAAiB,SAAA5E,GACf,OAAQA,GACN,KAAK8C,EAAMC,KACT,OAAOvE,EAAKoF,8BACd,KAAKd,EAAME,KACT,OAAOxE,EAAK2F,8BACd,KAAKrB,EAAMG,SACT,OAAOzE,EAAK4F,4BA9CC5F,EAoDnBqG,iBAAmB,SAAAN,GAAG,OACpB1H,EAAAC,EAAAC,cAAC+H,EAAAhI,EAAD,CAAKiI,QAASvG,EAAK8F,iBAAiBC,GAAMzF,MAAM,UAAUkG,aAAW,OAAOzH,UAAU,WACpFV,EAAAC,EAAAC,cAACkI,EAAAnI,EAAD,QAtDe0B,EA0DnB0G,kBAAoB,SAACX,EAAKY,GAAN,OAClBtI,EAAAC,EAAAC,cAACqI,EAAD,CACExH,SAAU2G,EACV5G,MAAOwH,EAAmB1F,EAAkBjB,EAAKH,MAAMsF,QAAUnF,EAAKH,MAAMsF,OAC5E3F,UAAQ,KA9DOQ,EAkEnB6G,WAAa,SAAAjG,GAAQ,IACZ5B,EAASgB,EAAKH,MAAdb,MACAwC,EAA0CZ,EAA1CY,KAAMmD,EAAoC/D,EAApC+D,UAAWE,EAAyBjE,EAAzBiE,WAAYD,EAAahE,EAAbgE,UAC9BkC,EAAStF,IAAS8C,EAAMC,KACxBwC,EAASvF,IAAS8C,EAAME,KAE9B,OACEnG,EAAAC,EAAAC,cAAAF,EAAAC,EAAA6B,SAAA,KAEE9B,EAAAC,EAAAC,cAAA,YAAOoG,GACPtG,EAAAC,EAAAC,cAACqI,EAAD,CAAezI,SAAU6B,EAAKoG,eAAe5E,GAAOpD,SAAU0I,KAAY9H,IAG1EX,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,iBACbV,EAAAC,EAAAC,cAAA,KACEQ,UAAWiI,IAAG,CACZC,aAAcjI,KAAW4F,KAG1B5F,GAAS4F,EAAYA,EAAYC,GAGnCkC,EACC1I,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,YACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACZiB,EAAKqG,iBAAiBrG,EAAKkH,YAC3BlH,EAAK0G,kBAAkB1G,EAAKkH,aAG/B7I,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACZiB,EAAKqG,iBAAiBrG,EAAKmH,gBAC3BnH,EAAK0G,kBAAkB1G,EAAKmH,gBAAgB,KAIjD9I,EAAAC,EAAAC,cAAAF,EAAAC,EAAA6B,SAAA,KACGH,EAAKqG,iBAAiBrG,EAAKoH,YAC3BpH,EAAK0G,kBAAkB1G,EAAKoH,gBAvGtBpH,EA+GnBqH,eAAiB,WACf,OAAO3C,EAAO/D,IAAI,SAAAC,GAChB,MAAO,CACLY,KAAMZ,EAAKY,KACX9C,MAAOkC,EAAKlC,MACZsC,UAAWhB,EAAK6G,WAAWjG,OAjH/BZ,EAAKkH,WAAazH,IAAM6H,YACxBtH,EAAKmH,eAAiB1H,IAAM6H,YAC5BtH,EAAKoH,WAAa3H,IAAM6H,YALPtH,wEA0HjB,OACE3B,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,OACbV,EAAAC,EAAAC,cAACgJ,EAAD,CAAarH,YAAaZ,KAAK+H,2BA7HrB5H,IAAMC,eCTlB8H,UAActB,SAASuB,eAAe,SAC5CC,IAASC,OAAOtJ,EAAAC,EAAAC,cAACqJ,EAAD,MAASJ","file":"static/js/main.44f5a5d1.chunk.js","sourcesContent":["import React from 'react';\nimport pt from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\n\nclass TextAreaField extends React.PureComponent {\n  renderInput = (onChange, hasError) => {\n    return (\n      <TextField\n        id=\"outlined-textarea\"\n        label=\"Paste content here\"\n        placeholder=\"Input\"\n        multiline\n        margin=\"normal\"\n        variant=\"outlined\"\n        className=\"textArea\"\n        error={hasError}\n        onChange={onChange}\n        rows={15}\n      />\n    );\n  };\n\n  renderOutput = (value, inputRef) => {\n    return (\n      <TextField\n        id=\"outlined-textarea\"\n        label=\"Copy output\"\n        placeholder=\"Output\"\n        multiline\n        margin=\"normal\"\n        variant=\"outlined\"\n        className=\"textArea\"\n        value={value}\n        rows={15}\n        inputRef={inputRef}\n      />\n    );\n  };\n\n  render() {\n    const {onChange, value, isOutput, hasError, inputRef} = this.props;\n\n    return isOutput ? this.renderOutput(value, inputRef) : this.renderInput(onChange, hasError);\n  }\n}\n\nTextAreaField.propTypes = {\n  onChange: pt.func,\n  value: pt.string,\n  isOutput: pt.bool,\n  hasError: pt.bool,\n  inputRef: pt.object,\n};\n\nTextAreaField.defaultProps = {\n  onChange: () => {},\n  value: '',\n  isOutput: false,\n  hasError: false,\n  inputRef: {},\n};\n\nexport default TextAreaField;\n","import React from 'react';\nimport pt from 'prop-types';\n/*material-ui*/\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nclass TabsWrapper extends React.PureComponent {\n  state = {\n    value: 0,\n  };\n\n  handleChange = (event, value) => {\n    this.setState({value});\n  };\n\n  render() {\n    const {tabsContent} = this.props;\n    const {value} = this.state;\n\n    return (\n      <>\n        <AppBar position=\"sticky\" color=\"default\">\n          <Tabs\n            value={value}\n            onChange={this.handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            centered\n          >\n            {tabsContent.map((item, index) => (\n              <Tab key={index} label={item.label} />\n            ))}\n          </Tabs>\n        </AppBar>\n\n        {tabsContent.map(\n          (item, index) =>\n            value === index && (\n              <main key={index} className=\"page\">\n                {item.component}\n              </main>\n            )\n        )}\n      </>\n    );\n  }\n}\n\nTabsWrapper.propTypes = {\n  tabsContent: pt.array.isRequired,\n};\n\nexport default TabsWrapper;\n","export const getReplacedOutput = input => {\n  return (\n    input\n      .replace(/&zwj;â™‚ï¸/g, `\\\\u{200D}\\\\u{2642}\\\\u{FE0F}`) // ðŸ’‡â€â™‚ï¸ to male\n      .replace(/&zwj;â™€ï¸/g, `\\\\u{200D}\\\\u{2640}\\\\u{FE0F}`) // ðŸ’†â€â™€ï¸ to female\n      .replace(/&nbsp;/g, `\\\\u00a0`) // space\n      .replace(/&mdash;/g, `\\\\u2014`) // â€”\n      .replace(/&ndash;/g, `\\\\u2013`) // â€“\n      .replace(/&laquo;/g, `\\\\u00AB`) // Â«\n      .replace(/&raquo;/g, `\\\\u00BB`) // Â»\n      .replace(/&#8381;/g, `\\\\u20BD`) // â‚½\n      // .replace(/â‚½/g, `\\\\u20BD`) // â‚½\n      .replace(/&#8198;/g, `\\\\u2006`) // Six-Per-Em Space\n  );\n};\n","// https://github.com/typograf/typograf\nconst Typografer = require('typograf');\nconst upperFirst = require('lodash/upperFirst');\n\nTypografer.addRule({\n  name: 'ru/nbsp/groupNumbersNew',\n  handler(text) {\n    const re = new RegExp(\n      `(^ ?|\\\\D |${Typografer._privateLabel})(\\\\d{1,3}([ \\u00A0\\u202F\\u2009]\\\\d{3})+)(?! ?[\\\\d-])`,\n      'gm'\n    );\n\n    return text.replace(re, function($0, $1, $2) {\n      return $1 + $2.replace(/\\s/g, '\\u00A0');\n    });\n  },\n})\n\n  .addRule({\n    name: 'common/nbsp/TinkoffBank',\n    handler(text) {\n      return text.replace(/(Ð¢Ð¸Ð½ÑŒÐºÐ¾Ñ„Ñ„)\\s+(Ð‘Ð°Ð½Ðº)/gi, '$1\\u00A0$2');\n    },\n  })\n\n  .addRule({\n    name: 'common/nbsp/TinkoffBlack',\n    handler(text) {\n      return text.replace(/(Tinkoff)\\s+(Black)/gi, '$1\\u00A0$2');\n    },\n  })\n\n  .addRule({\n    name: 'common/nbsp/betweenWordAndNumber',\n    handler(text) {\n      return text.replace(/([\\wÐ°-Ñ]+) (\\d+)/gi, '$1\\u00A0$2');\n    },\n  })\n\n  .addRule({\n    name: 'common/nbsp/betweenNumbers',\n    handler(text) {\n      return text.replace(/(\\d+) (\\d+)/gi, '$1\\u00A0$2');\n    },\n  })\n\n  .addRule({\n    name: 'common/nbsp/ALLCards',\n    handler(text) {\n      return text.replace(/(ALL)\\s+(Games|Airlines)/gi, (...x) => {\n        return `${x[1].toUpperCase()}\\u00A0${upperFirst(x[2])}`;\n      });\n    },\n  })\n\n  .addRule({\n    name: 'ru/money/currencyNew',\n    handler(text) {\n      return text.replace(/([\\s]+)([$â‚¬Â¥Ò°Â£â‚¤â‚½])/gm, '\\u00A0$2');\n    },\n  });\n\nconst typograf = new Typografer({\n  locale: ['ru', 'en-US'],\n  live: false, // true Ð·Ð°Ñ‚Ð¸Ñ€Ð°ÐµÑ‚ &nbsp;\n  htmlEntity: {\n    type: 'name',\n    onlyInvisible: true,\n  },\n});\n\ntypograf\n  // .enableRule('ru/money/currency') // Ð·Ð°Ð¼ÐµÐ½ÐµÐ½Ð¾ Ð½Ð° ru/money/currencyNew Ñ‚.Ðº. Ð»Ð¾Ð¼Ð°Ð»Ð°ÑÑŒ ÑÑ‚Ñ€Ð¾ÐºÐ° Ñ Ñ‚Ð¾Ñ‡ÐºÐ¾Ð¹ Ð¿Ð¾ÑÐ»Ðµ â‚½, Ð·Ð°Ð²Ñ‘Ð» Ð¸ÑˆÑŒÑŽ https://github.com/typograf/typograf/issues/359\n  .enableRule('common/punctuation/*')\n  .enableRule('common/nbsp/afterNumber')\n  .enableRule('common/symbols/*')\n  .disableRule('ru/nbsp/groupNumbers')\n  .disableRule('ru/date/fromISO')\n  .disableRule('common/number/fraction');\n\nexport const typografer = input => {\n  return typograf.execute(input);\n};\n","import {typografer} from './typograf';\n\nexport const patch = (root, transform = typografer, parentKey = '') => {\n  if (Array.isArray(root)) {\n    return root.map(el => patch(el, transform));\n  } else if (root !== null && typeof root === 'object') {\n    return Object.entries(root).reduce((acc, [k, v]) => {\n      // if parent key starts with underscore use it. else use key got in current iteration. for recursive ignoring\n      const newParentKey = parentKey && parentKey[0] === '_' ? parentKey : k;\n      const isIgnoreKey = newParentKey[0] === '_';\n\n      if (typeof v === 'string') {\n        acc[k] = isIgnoreKey ? v : transform(v);\n      } else {\n        acc[k] = patch(v, isIgnoreKey ? str => str : transform, newParentKey);\n      }\n      return acc;\n    }, {});\n  } else if (typeof root === 'string') {\n    return transform(root);\n  } else {\n    return root;\n  }\n};\n","export const CASES = {\n  JSON: 'JSON',\n  HTML: 'HTML',\n  REPLACER: 'REPLACER',\n};\n\nexport const config = [\n  {\n    name: CASES.JSON,\n    label: 'Json Typograf',\n    textInput: 'â†“ paste json â†“',\n    textError: 'âŠ— invalid json âŠ—',\n    textOutput: 'json output â†µ',\n  },\n  {\n    name: CASES.HTML,\n    label: 'Html Typograf',\n    textInput: 'â†“ paste text â†“',\n    textOutput: 'html/json output â†µ',\n  },\n  {\n    name: CASES.REPLACER,\n    label: 'String Replacer',\n    textInput: 'â†“ paste text â†“',\n    textOutput: 'replaced text output â†µ',\n  },\n];\n","import React from 'react';\nimport cn from 'classnames';\n/*material-ui*/\nimport Fab from '@material-ui/core/Fab';\nimport CopyIcon from '@material-ui/icons/FileCopyOutlined';\n/*components*/\nimport TextAreaField from './TextAreaField';\nimport TabsWrapper from './TabsWrapper';\n/*utils*/\nimport {getReplacedOutput} from '../utils/getReplacedOutput';\nimport {patch} from '../utils/patch';\nimport {typografer} from '../utils/typograf';\n/*constants*/\nimport {CASES, config} from '../constants';\n\nclass App extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.htmlOutput = React.createRef();\n    this.replacedOutput = React.createRef();\n    this.jsonOutput = React.createRef();\n  }\n\n  state = {\n    result: '',\n    error: null,\n  };\n\n  handleInputJSONTypografChange = ({target: {value}}) => {\n    try {\n      const data = JSON.parse(value);\n      const patched = patch(data);\n      this.setState({\n        error: null,\n        result: getReplacedOutput(JSON.stringify(patched, null, 2)),\n      });\n    } catch (err) {\n      this.setState({error: err});\n    }\n  };\n\n  handleInputHTMLTypografChange = ({target: {value}}) => {\n    this.setState({result: typografer(value)});\n  };\n\n  handleInputReplacerChange = ({target: {value}}) => {\n    this.setState({result: getReplacedOutput(value)});\n  };\n\n  handleCopyOutput = ref => () => {\n    ref.current.select();\n    document.execCommand('copy');\n  };\n\n  getCaseHandler = name => {\n    switch (name) {\n      case CASES.JSON:\n        return this.handleInputJSONTypografChange;\n      case CASES.HTML:\n        return this.handleInputHTMLTypografChange;\n      case CASES.REPLACER:\n        return this.handleInputReplacerChange;\n      default:\n        break;\n    }\n  };\n\n  renderCopyButton = ref => (\n    <Fab onClick={this.handleCopyOutput(ref)} color=\"primary\" aria-label=\"Copy\" className=\"btnCopy\">\n      <CopyIcon />\n    </Fab>\n  );\n\n  renderOutputField = (ref, isReplacedOutput) => (\n    <TextAreaField\n      inputRef={ref}\n      value={isReplacedOutput ? getReplacedOutput(this.state.result) : this.state.result}\n      isOutput\n    />\n  );\n\n  renderCase = item => {\n    const {error} = this.state;\n    const {name, textInput, textOutput, textError} = item;\n    const isJson = name === CASES.JSON;\n    const isHtml = name === CASES.HTML;\n\n    return (\n      <>\n        {/*input*/}\n        <span>{textInput}</span>\n        <TextAreaField onChange={this.getCaseHandler(name)} hasError={isJson && !!error} />\n\n        {/*output*/}\n        <div className=\"outputWrapper\">\n          <p\n            className={cn({\n              errorMessage: error && !!textError,\n            })}\n          >\n            {error && textError ? textError : textOutput}\n          </p>\n\n          {isHtml ? (\n            <div className=\"flex-row\">\n              <div className=\"column\">\n                {this.renderCopyButton(this.htmlOutput)}\n                {this.renderOutputField(this.htmlOutput)}\n              </div>\n\n              <div className=\"column\">\n                {this.renderCopyButton(this.replacedOutput)}\n                {this.renderOutputField(this.replacedOutput, true)}\n              </div>\n            </div>\n          ) : (\n            <>\n              {this.renderCopyButton(this.jsonOutput)}\n              {this.renderOutputField(this.jsonOutput)}\n            </>\n          )}\n        </div>\n      </>\n    );\n  };\n\n  getTabsContent = () => {\n    return config.map(item => {\n      return {\n        name: item.name,\n        label: item.label,\n        component: this.renderCase(item),\n      };\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <TabsWrapper tabsContent={this.getTabsContent()} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nimport './styles.css';\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}